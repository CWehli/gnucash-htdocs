<b>Announcement:</b> GnuCash 3.8 Release
2020-03-29

<h2>GnuCash 3.9 released</h2>

<p>The GnuCash development team announces GnuCash 3.9, the tenth release of the 3.x stable release series.</p>
<h3>Changes</h3>


<p>Between 3.8 and 3.9, the following bugfixes were accomplished:</p>
<ul>
<li><a href="https://bugs.gnucash.org/show_bug.cgi?id=685102">Bug 685102 - Scheduled Transactions don't always respect weekends for first occurrence</a></li>
<li><a href="https://bugs.gnucash.org/show_bug.cgi?id=794916">Bug 794916 - Fails to find environment file at startup when installation prefix is '/opt'</a></li>
<li><a href="https://bugs.gnucash.org/show_bug.cgi?id=796579">Bug 796579 - Cannot go forward with empty duplicates screen</a></li>
<li><a href="https://bugs.gnucash.org/show_bug.cgi?id=796911">Bug 796911 - Minimum window width to large.</a><p></p>To fix this the text labels used have been enabled to ellipsize at the end</li>
<li><a href="https://bugs.gnucash.org/show_bug.cgi?id=796984">Bug 796984 - Import Bills & Invoices: date of line item is not validated; can lead to unexpected results</a></li>
<li><a href="https://bugs.gnucash.org/show_bug.cgi?id=796985">Bug 796985 - Import Bills & Invoices: option 'open not yet posted docs in tab' does not open tab if invoice could not be posted</a></li>
<li><a href="https://bugs.gnucash.org/show_bug.cgi?id=796986">Bug 796986 - Import Bills & Invoices: in case of invalid posting date in import file, invoice is posted with unexpected date</a></li>
<li><a href="https://bugs.gnucash.org/show_bug.cgi?id=796987">Bug 796987 - Import Bills & Invoices: fixing import items only works in special case</a></li>
<li><a href="https://bugs.gnucash.org/show_bug.cgi?id=797022">Bug 797022 - Import Bills & Invoices: expense/income account is not validated - leads to one-sided posting if account is invalid</a></li>
<li><a href="https://bugs.gnucash.org/show_bug.cgi?id=797023">Bug 797023 - Import Bills & Invoices: no user confirmation requested for update of invoices, if new invoice is created first</a></li>
<li><a href="https://bugs.gnucash.org/show_bug.cgi?id=797024">Bug 797024 - Import Bills & Invoices: import matches csv data rows with too few separators, messing up the import data</a></li>
<li><a href="https://bugs.gnucash.org/show_bug.cgi?id=797025">Bug 797025 - Import Bills & Invoices: the type of the post to account is not validated - enabling A/P and A/R postings on regular accounts</a></li>
 <li><a href="https://bugs.gnucash.org/show_bug.cgi?id=797042">Bug 797042 - OK button in OFX importer doesn't work if nothing is imported.</a></li>
<li><a href="https://bugs.gnucash.org/show_bug.cgi?id=797133">Bug 797133 - CSV Import of multicurrency transaction export in multiline form</a></li>
<li><a href="https://bugs.gnucash.org/show_bug.cgi?id=797139">Bug 797139 - test-report-utilities failure after 10-march in travis</a></li>
<li><a href="https://bugs.gnucash.org/show_bug.cgi?id=797419">Bug 797419 - equity-statement unrealized-gain calculator uses weighted-average</a></li>
<li><a href="https://bugs.gnucash.org/show_bug.cgi?id=797481">Bug 797481 - crash on close of unsaved tabs by pressing [X]</a></li>
<li><a href="https://bugs.gnucash.org/show_bug.cgi?id=797522">Bug 797522 - Focus after reconcile jumps to a different account</a></li>
<li><a href="https://bugs.gnucash.org/show_bug.cgi?id=797536">Bug 797536 - cmake errors out because it cannot find GncPkgConfig (cmake 3.5.2)</a></li>
<li><a href="https://bugs.gnucash.org/show_bug.cgi?id=797540">Bug 797540 - Mapping of aqbanking accounts to gnucash accounts doesn't work</a></li>
<li><a href="https://bugs.gnucash.org/show_bug.cgi?id=797546">Bug 797546 - Autocomplete not updated when account names changed</a></li>
<li><a href="https://bugs.gnucash.org/show_bug.cgi?id=797548">Bug 797548 - multicolumn income statement: some closing entries are not ignored when within reporting period</a></li>
<li><a href="https://bugs.gnucash.org/show_bug.cgi?id=797549">Bug 797549 - Reconcile window shows S_tatement Date rather than Statement Date</a></li>
<li><a href="https://bugs.gnucash.org/show_bug.cgi?id=797550">Bug 797550 - Crash when changing register tab position</a></li>
<li><a href="https://bugs.gnucash.org/show_bug.cgi?id=797551">Bug 797551 - Budget totals line missing in 3.8</a><p>Reinstate Income/Expense/Transfer/Total, but rename to:<ul><li>Inflow from Income</li><li>Outflow to Expense</li><li>Outflow to Asset/Equity/Liability</li><li>Remaining to Budget</li></ul></p></li>
<li><a href="https://bugs.gnucash.org/show_bug.cgi?id=797566">Bug 797566 - Crash on use of context menu in importer</a></li>
<li><a href="https://bugs.gnucash.org/show_bug.cgi?id=797569">Bug 797569 - Swedish account templates not accessible</a></li>
<li><a href="https://bugs.gnucash.org/show_bug.cgi?id=797570">Bug 797570 - Unable to import vendors.</a><p>In the import of Customer/Vendor or Bill/Invoice, the dialog that lists rows that were not imported shows a scrollable view of only four rows.</p></li>
<li><a href="https://bugs.gnucash.org/show_bug.cgi?id=797572">Bug 797572 - Customer Report (beta): "Period Totals" includes total debit and credits outside the current period</a><p>Previously Credits was rendered before Debits. Change to formal accounting convention. Can swap to informal headers if set by global preference. </p></li>
<li><a href="https://bugs.gnucash.org/show_bug.cgi?id=797573">Bug 797573 - Incorrect value of securities in the Asset Chart</a></li>
<li><a href="https://bugs.gnucash.org/show_bug.cgi?id=797576">Bug 797576 - xaccAccountOrder shouldn't sort account codes as base-36</a></li>
<li><a href="https://bugs.gnucash.org/show_bug.cgi?id=797584">Bug 797584 - New-owner - bill amount field links to wrong account</a></li>
<li><a href="https://bugs.gnucash.org/show_bug.cgi?id=797588">Bug 797588 - Gnucash segfaults when using mysql backend with empty password</a></li>
<li><a href="https://bugs.gnucash.org/show_bug.cgi?id=797591">Bug 797591 - multiperiod b/s and PnL reports: add style sheet 'easy'</a></li>
<li><a href="https://bugs.gnucash.org/show_bug.cgi?id=797609">Bug 797609 - Backtraces for eguile report errors strips wrong part of stack</a></li>
<li><a href="https://bugs.gnucash.org/show_bug.cgi?id=797613">Bug 797613 - Due Invoices Reminder shows Job Name instead of Company Name</a></li>
<li><a href="https://bugs.gnucash.org/show_bug.cgi?id=797624">Bug 797624 - At some point Vietnam Dong seemed to drop xu (decimals)</a></li>
<li><a href="https://bugs.gnucash.org/show_bug.cgi?id=797631">Bug 797631 - Superfluous account selection dialog on first online retrieval</a><p>The online id, which is needed to find a GnuCash account for a transaction or the balance retrieved from an online account, is already assigned to each matched GnuCash account within the Online Banking Setup tool. The online id is removed from the GnuCash account if it is no longer matched with an AqBanking account. </p></li>
<li><a href="https://bugs.gnucash.org/show_bug.cgi?id=797636">Bug 797636 - Incorrect Online account matches cannot be deleted</a><p>A push button with text "Delete selected matches" is added to the "Match Online accounts with GnuCash accounts" page of the "Online Banking Setup" tool. Additionally, the underlying tree view is set to multiple selection mode from single selection mode. Pushing the button will remove the matched GnuCash account from all selected AqBanking (Online) accounts. </p></li>
<li><a href="https://bugs.gnucash.org/show_bug.cgi?id=797638">Bug 797638 - SIGSEGV editing transaction after closing Find Accounts dialog.</a</li>
<li><a href="https://bugs.gnucash.org/show_bug.cgi?id=797640">Bug 797640 - The Reconciliation Window starting balance calculator needs to ignore splits after statement date</a></li>
<li><a href="https://bugs.gnucash.org/show_bug.cgi?id=797648">Bug 797648 - Cannot reconcile both splits of a transaction with 2 splits for bank account subaccounts if only 1 is cleared</a><p>Force all splits in a transaction for the account being reconciled (and its children), to have the same reconciliation status. This fixes a problem when the splits have different statuses.</p></li>
<li><li><a href="https://bugs.gnucash.org/show_bug.cgi?id=797656">Bug 797656 - Immediate crash when retrieving quotes</a></li>
</ul>

<p> The following fixes and improvements were not associated with bug reports:</p>
<ul>
  <li>[report-utilities] fix gnc:account-accumulate-at-dates sorting &amp; operator <p>This commit performs 2 important fixes:
  <ol>
    <li>The account splitlist walking assumes that the split->date always increases. This is now enforced by sorting the splitlist, *only* if a custom split->date is offered. By default the splits are sorted by posted_date, and if a custom split->date is used, will be stable-sorted to ensure the algorithm works.</li>
    <li>The handling of splits *ON* date boundaries is fixed. Previously if a split->date was equal to a date boundary, it would be considered part of the "after" date section. It is more intuitive that a date boundary includes all splits on and before the date.</li>
  </ol></p></li>
  <li>When selecting a file for OFX import, restrict the files listed to .OFX (or .QFX)</li>
  <li>Fix crash when changing account-separator.</li>
  <li>Change the default focus to search entry for 'Find Account'</li>
  <lli>Fix rounding precision when importing prices from CSV</li>
  <li>[trep-engine] subtotals when cells have monetary only <p>Instead of accumulating subtotals from any non-#f value, ensure value is a gnc-monetary before accumulating subtotals. This paves the way to allow non-monetary in RHS custom-calculated-cells.</p></li>
  <li>Travis - don't try to copy the removed after-failure file to the test container</li>
  <li>Travis - use ctest built-in feature to verbosely log test failures</li>
  <li>Fix tokenize_string()to prevent empty strings as Bayes account-matching tokens and remove duplicated tokens.</li>
  <li>Fix calculation of Bayes account-matching token info to find exactly matching tokens only.</li>
  <li>Clear online banking KVP from accounts no longer associated with an online one</li>
  <li>Account template improvements for Swiss-German KMU and Germany SKR04.</li>
  <li>Appdata file allows packagers to include distribution release information.</li>
  <li>Ensure that new budgets are saved instead of saving only the state information.</li>
  <li>Update US Income Tax information for 2019.</li>
  <li>Correct double-counting of accounts in some cases in US Income Tax Report.</li>
  <li>Housekeeping - reduce the number of PACKAGE and VERSION related cmake variables</li>
  <li>Restrict gnucash.pot comment collection to ones beginning with "Translators". <p>At the recommendation of the Translation Project coordinator.</p></li>
  <li>[html-table][API] html-table can have multirow-col-headers
  <ul>
    <li>NEW API: gnc:html-table-multirow-col-headers and gnc:html-table-set-multirow-col-headers! gnc:html-table col-headers have been augmented to support list of &lt;th&gt; rows.</li>
      <li>BACKWARD COMPATIBILITY is offered. Old use of single-row headers API gnc:html-table-col-headers and gnc:html-table-set-col-headers! should be unchanged; will get/set a single row of &lt;th&gt; elements.</li>
      <li>NEW functions gnc:html-table-multirow-col-headers and gnc:html-table-set-multirow-col-headers! will get/set an arbitrary number of rows of &lt;th&gt; elements.</li>
      <li>using old API gnc:html-table-col-headers on a table, whose multiple row headers have been set, will lead to a warning and return the first row only.</li>
  </ul></li>
</ul>

<p>We have revised translations for Croatian, German, Polsih, and Ukrainian
<h2>Known Issues</h2>
<p>The following are open bug reports to the 3.x series considered significant by the development team:</p>
<ul>
<li><a href="https://bugs.gnucash.org/show_bug.cgi?id=795383">Bug 795383 - Gnucash crashes on import of a 1400-transaction (or more) CSV file</a></li>
<li><a href="https://bugs.gnucash.org/show_bug.cgi?id=796955">Bug 796955 - Import CSV - Single-line two-currency transactions can't be imported</a></li>
<li><a href="https://bugs.gnucash.org/show_bug.cgi?id=796992">Bug 796992 - gnucash --add-price-quotes can't parse drive letters on Windows.</a></li>
<li><a href="https://bugs.gnucash.org/show_bug.cgi?id=796997">Bug 796997 - Currency Conversion Dialog appears when recording transactions between same currency accounts.</a></li>
<li><a href="https://bugs.gnucash.org/show_bug.cgi?id=797006">Bug 797006 - Balance is misleading in "open subaccounts" when different currencies are involved</a></li>
<li><a href="https://bugs.gnucash.org/show_bug.cgi?id=797037">Bug 797037 - Counter formats not saving</a></li>
<li><a href="https://bugs.gnucash.org/show_bug.cgi?id=797064">Bug 797064 - crash when try print report</a></li>
<li><a href="https://bugs.gnucash.org/show_bug.cgi?id=797083">Bug 797083 - Gnucash crashes when trying to rename budget</a></li>
<li><a href="https://bugs.gnucash.org/show_bug.cgi?id=797092">Bug 797092 - Save As fails: tries to save to reserved directory if path contains spaces</a></li>
<li><a href="https://bugs.gnucash.org/show_bug.cgi?id=797113">Bug 797113 - Scrubbing crashes when creating small splits that round to value 0.</a></li>
<li><a href="https://bugs.gnucash.org/show_bug.cgi?id=797114">Bug 797114 - Fixing an SX due to deleted account stuck in an error loop</a></li>
<li><a href="https://bugs.gnucash.org/show_bug.cgi?id=797115">Bug 797115 - Can't 're-activate' an expired SX</a></li>
<li><a href="https://bugs.gnucash.org/show_bug.cgi?id=797211">Bug 797211 - Very slow UI - dependent on window size</a></li>
<li><a href="https://bugs.gnucash.org/show_bug.cgi?id=797220">Bug 797220 - delete account allows move of all transactions to account having non-matching currency</a></li>
<li><a href="https://bugs.gnucash.org/show_bug.cgi?id=797236">Bug 797236 - Regression: Reconcile window transaction list resets to top when new transaction created in account</a></li>
<li><a href="https://bugs.gnucash.org/show_bug.cgi?id=797264">Bug 797264 - 3.5 can't use Chinese IME input</a></li>
<li><a href="https://bugs.gnucash.org/show_bug.cgi?id=797283">Bug 797283 - Permanent hang on clicking on report tabs</a></li>
<li><a href="https://bugs.gnucash.org/show_bug.cgi?id=797285">Bug 797285 - QIF import fails and then crashes</a></li>
<li><a href="https://bugs.gnucash.org/show_bug.cgi?id=797293">Bug 797293 - Crash when import "U+R" or "R"</a></li>
<li><a href="https://bugs.gnucash.org/show_bug.cgi?id=797294">Bug 797294 - Billing functions freezing</a></li>
<li><a href="https://bugs.gnucash.org/show_bug.cgi?id=797318">Bug 797318 - Amounts ending in zero displayed as fractions</a></li>
<li><a href="https://bugs.gnucash.org/show_bug.cgi?id=797325">Bug 797325 - [Windows 7] Reports with charts will not load</a></li>
<li><a href="https://bugs.gnucash.org/show_bug.cgi?id=797329">Bug 797329 - Using Japanese IME to enter transactions results in unexpected field jumps</a></li>
<li><a href="https://bugs.gnucash.org/show_bug.cgi?id=797334">Bug 797334 - Crash on attempting to change account separator character</a></li>
<li><a href="https://bugs.gnucash.org/show_bug.cgi?id=797335">Bug 797335 - Crash on subsequent Open after accidentally Opening the current file</a></li>
<li><a href="https://bugs.gnucash.org/show_bug.cgi?id=797336">Bug 797336 - CSV Accounts import fails on UTF-8 e-acute in account name</a></li>
<li><a href="https://bugs.gnucash.org/show_bug.cgi?id=797345">Bug 797345 - Selecting item in tax table causes gnucash to crash</a></li>
<li><a href="https://bugs.gnucash.org/show_bug.cgi?id=797348">Bug 797348 - Wrong column order for RTL writing in GUI elements</a></li>
<li><a href="https://bugs.gnucash.org/show_bug.cgi?id=797351">Bug 797351 - General ledger register transaction becomes "zombie" after deletion</a></li>
<li><a href="https://bugs.gnucash.org/show_bug.cgi?id=797363">Bug 797363 - Consistent Silent Crash on Converting Saved Reports from 2.6 to 3.6</a></li>
<li><a href="https://bugs.gnucash.org/show_bug.cgi?id=797368">Bug 797368 - Cannot download Quantity information from a CSV to a mutual</a></li>
<li><a href="https://bugs.gnucash.org/show_bug.cgi?id=797384">Bug 797384 - Gnucash doesn't handle commodity prices with big numerator/denominator properly</a></li>
<li><a href="https://bugs.gnucash.org/show_bug.cgi?id=797385">Bug 797385 - Report html files NOT opening in Reports tab or window due to webkit Frame Load Interrupted error</a></li>
<li><a href="https://bugs.gnucash.org/show_bug.cgi?id=797512">Bug 797512 - Transaction with stock symbol XLU won't balance, symbol IXLU does.</a></li>
<li><a href="https://bugs.gnucash.org/show_bug.cgi?id=797514">Bug 797514 - Changing transaction unreconciles a split inconsistently</a></li>
<li><a href="https://bugs.gnucash.org/show_bug.cgi?id=797646">Bug 797646 - Crash When Finishing Reconciliation After Editing Transaction To Un-Anchor To Account</a></li>
</ul>
<h2>Documentation</h2>
<p>Concurrent with the release of Gnucash 3.9 we're pleased to also release a new version 3.9 of the companion <em>Help</em> and <em>Tutorial and Concepts Guide</em>.</p>
<p>Documentation changes:</p>
<ul>
<li>Rewrite the translation paragraph in Overview, updating it to match the current status.</li>
<li>Book options->Trading Accounts: link tutorial</li>
<li>Remove obsolete basics_main[_]win*.{xcf|png} from guide</li>
<li>In Business Account Setup of A/R and A/P emphasise 'for each currency'</li>
<li>Remove redundant leading words in the admonition blocks</li>
<li>Distinguish 2 "Process Payment" sections</li>
</ul>

<h3>Getting GnuCash for Windows and MacOS</h3>
<p>GnuCash is provided for both Microsoft Windows 7&reg; and later
and MacOS X 10.9 (Mavericks)&reg; and later in pre-built, all-in-one
packages. An installer is provided for Microsoft Windows&reg; while
the MacOS&reg; package is a disk image containing a drag-and-drop
application bundle.</p>
<p>The SHA256 Hashes for the downloadable files are:
<ul>
  <li><code>8d02dddc7cbc9d7324f4b577825dffffb8c4c938746701407e7b04bd647eb9ff</code>&nbsp;&nbsp;gnucash-3.9.tar.bz2</li>
  <li><code>524fa3f6b62390e3e0afe59636965f0a8059ae25f85d7cb4dc26f36929dcd9a8</code>&nbsp;&nbsp;gnucash-3.9.tar.gz</li>
  <li><code>34a77b28492e7efe8208a695b93cf60f04fd639288cdda1f67d30cf7f39a120d</code>&nbsp;&nbsp;gnucash-3.9.setup.exe</li>
  <li><code>121ccd52e49e27fd998ae8d2a34d65b3afd0ea184a5d752143008406a5e99053</code>&nbsp;&nbsp;Gnucash-Intel-3.9-1.dmg</li>
  <li><code>34a77b28492e7efe8208a695b93cf60f04fd639288cdda1f67d30cf7f39a120d</code>&nbsp;&nbsp;gnucash-docs-3.9.tar.gz</li>
</ul></p>

<ul>
  <li>SourceForge:
  <ul>
    <li><a href="http://downloads.sourceforge.net/gnucash/stable/gnucash-3.9.setup.exe">Win32</a></li>
    <li><a href="http://downloads.sourceforge.net/gnucash/stable/Gnucash-Intel-3.9-1.dmg">Mac-Intel</a></li>
  </ul></li>
  <li>Github
  <ul>
    <li><a href="https://github.com/Gnucash/gnucash/releases/download/3.9/gnucash-3.9.setup.exe">Win32</a></li>
    <li><a href="https://github.com/Gnucash/gnucash/releases/download/3.9/Gnucash-Intel-3.9-3.dmg">Mac-Intel</a></li>
</ul></li></ul>

<h3>Getting GnuCash as source code</h3>
<p>If you want to compile GnuCash 3.9 for yourself, the source code can be downloaded from:</p>
<ul>

  <li>Sourceforge: <a href="http://downloads.sourceforge.net/gnucash/stable/gnucash-3.9.tar.bz2">bzip2</a>, <a href="http://sourceforge.net/projects/gnucash/files/gnucash%20(stable)/3.9/">all files</a>.</li>

  <li>Github: <a href="https://github.com/Gnucash/gnucash/releases/download/3.9/gnucash-3.9.tar.bz2">bzip</a> <b>WARNING</b> Do not try to use the github-generated files labelled "Source Code". They have not been processed with swig and will not build.</li>

  <li>You can also checkout the sources directly from the git repository as <a href="https://wiki.gnucash.org/wiki/Git">described here.</a></li>
</ul>

<p>To compile GnuCash from the source code by yourself, you will need at least <a href="https:www.gtk.org">Gtk+</a> 3.10, <a href="https://www.gnu.org/software/guile/">Guile</a> 2.0, <a href="https://www.boost.org/">Boost</a> 1.54, <a href="https://webkitgtk.org/">WebKitGtk</a> 2.4, and <a href="https://github.com/google/googletest">GoogleTest</a> 1.7.0. In addition you will need <a href="http://www.swig.org/">SWIG</a> 2.0.10 if compiling from git. Please consult the README.dependencies file in the sources for the exact list of dependencies and versions.</p>

<h3>Getting the documentation</h3>

<p>The documentation is available at <a href="https://www.gnucash.org/docs.phtml">Documentation page</a> of the <a href="https://www.gnucash.org/">GnuCash website</a>. The 3.9 documentation can be found under "GnuCash v3 (current stable release)" in multiple languages both for reading online and for download in pdf, epub, and mobi formats. The documentation is included in the MacOS and Windows application bundles.</p>

<p>If you want to compile the GnuCash Documentation 3.9 for yourself, the source code can be downloaded from:</p>
<ul>
  <li><a href="http://downloads.sourceforge.net/gnucash/stable/gnucash-docs-3.9-1.tar.gz">Sourceforge</a> or <a href="https://github.com/Gnucash/gnucash/releases/download/3.9/gnucash-docs-3.9.tar.gz">GitHub</a></li>
  <li>You can also checkout the sources directly from the git repository as <a href="https://wiki.gnucash.org/wiki/Git">described here.</a></li>
</ul>


<h3>About the Program</h3>

<p>GnuCash is a free, open source accounting program released under
the GNU General Public License (GPL) and available for GNU/Linux,
*BSD, Solaris, MacOS, and Microsoft Windows.  Programming on GnuCash
began in 1997, and its first stable release was in 1998.</p>
